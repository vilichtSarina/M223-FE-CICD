[{"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\index.tsx":"1","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\App.tsx":"2","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Router\\Router.tsx":"3","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Contexts\\ActiveUserContext.tsx":"4","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Services\\AuthorityService.ts":"5","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Services\\UserService.ts":"6","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\config\\Api.ts":"7","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Router\\PrivateRoute.tsx":"8","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\HomePage.tsx":"9","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\UserPage\\UserPage.tsx":"10","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\LoginPage\\LoginPage.tsx":"11","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\UserPage\\UserTable.tsx":"12","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\molecules\\UserForm\\UserForm.tsx":"13","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\LandingPage\\LandingPage.tsx":"14","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\organisms\\Navbar.tsx":"15","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\organisms\\Content.tsx":"16","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\molecules\\Post.tsx":"17","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\organisms\\AddPost.tsx":"18","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Services\\PostService.ts":"19","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\types\\models\\Post.model.ts":"20"},{"size":382,"mtime":1677055259686,"results":"21","hashOfConfig":"22"},{"size":316,"mtime":1677055259632,"results":"23","hashOfConfig":"22"},{"size":1473,"mtime":1677068313707,"results":"24","hashOfConfig":"22"},{"size":6317,"mtime":1677055259636,"results":"25","hashOfConfig":"22"},{"size":1174,"mtime":1677055259648,"results":"26","hashOfConfig":"22"},{"size":653,"mtime":1677055259653,"results":"27","hashOfConfig":"22"},{"size":1817,"mtime":1677055259677,"results":"28","hashOfConfig":"22"},{"size":2314,"mtime":1677153086644,"results":"29","hashOfConfig":"22"},{"size":377,"mtime":1677061700471,"results":"30","hashOfConfig":"22"},{"size":1114,"mtime":1677055259672,"results":"31","hashOfConfig":"22"},{"size":3427,"mtime":1677066874465,"results":"32","hashOfConfig":"22"},{"size":1936,"mtime":1677055259675,"results":"33","hashOfConfig":"22"},{"size":3345,"mtime":1677055259660,"results":"34","hashOfConfig":"22"},{"size":408,"mtime":1677073501112,"results":"35","hashOfConfig":"22"},{"size":1576,"mtime":1677076486167,"results":"36","hashOfConfig":"22"},{"size":937,"mtime":1677147411415,"results":"37","hashOfConfig":"22"},{"size":1421,"mtime":1677147393925,"results":"38","hashOfConfig":"22"},{"size":1677,"mtime":1677147620267,"results":"39","hashOfConfig":"22"},{"size":366,"mtime":1677147838592,"results":"40","hashOfConfig":"22"},{"size":146,"mtime":1677078845595,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"lraves",{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"44"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\index.tsx",[],["86","87"],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\App.tsx",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Router\\Router.tsx",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Contexts\\ActiveUserContext.tsx",["88"],"import { createContext, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"../config/Api\";\r\nimport roles from \"../config/Roles\";\r\nimport AuthorityService from \"../Services/AuthorityService\";\r\nimport UserService from \"../Services/UserService\";\r\nimport { User } from \"../types/models/User.model\";\r\nimport { Nullable } from \"../types/Nullable\";\r\n\r\n/**\r\n * USER_DATA_LOCAL_STORAGE_KEY defines the localStorageKey in which the\r\n * activeUser gets stored.\r\n */\r\nexport const USER_DATA_LOCAL_STORAGE_KEY = \"user\";\r\nexport const TOKEN_LOCAL_STORAGE_KEY = \"token\";\r\n\r\n/**\r\n * ActiveUserContextType defines the provided values\r\n */\r\nexport type ActiveUserContextType = {\r\n  user: Nullable<User>;\r\n  login: (email: string, password: string) => Promise<boolean>;\r\n  logout: () => void;\r\n  setActiveUser: (user: User) => void;\r\n  loadActiveUser: () => void;\r\n  checkRole: (roleToCheck: keyof typeof roles) => boolean;\r\n};\r\n\r\n/**\r\n * noContextProviderFound is a method that throws an error and is used\r\n * inside the defaultContextValue\r\n */\r\nconst noContextProviderFound = () => {\r\n  throw new Error(\"No provider for the ActiveUserContext found\");\r\n};\r\n\r\n/**\r\n * defaultContextValue defines the default values for the ActiveUserContext.\r\n */\r\nconst defaultContextValue: ActiveUserContextType = {\r\n  user: null,\r\n  login: noContextProviderFound,\r\n  logout: noContextProviderFound,\r\n  setActiveUser: noContextProviderFound,\r\n  loadActiveUser: noContextProviderFound,\r\n  checkRole: noContextProviderFound,\r\n};\r\n\r\n/**\r\n * ActiveUserContext has the purpose of providing the currently active user\r\n * as well as related values, modifiers and related operations such as login\r\n * and logout.\r\n */\r\nconst ActiveUserContext =\r\n  createContext<ActiveUserContextType>(defaultContextValue);\r\nexport default ActiveUserContext;\r\n\r\n/**\r\n * Props for the ActiveUserContextProvider Component\r\n */\r\ntype ActiveUserContextProviderProps = {\r\n  children: React.ReactNode;\r\n};\r\n\r\n/**\r\n * ActiveUserContextProvider Component is used to provide the ActiveUserContext\r\n * to all child-components.\r\n * @param children consists of all the elements that are located inside the\r\n */\r\nexport const ActiveUserContextProvider = ({\r\n  children,\r\n}: ActiveUserContextProviderProps) => {\r\n  /**\r\n   * Try to load the user data that is stored inside the LocalStorage.\r\n   * If non is present, null will be returned.\r\n   */\r\n  const loadSavedUserData = (): Nullable<User> => {\r\n    const storeUser = localStorage.getItem(USER_DATA_LOCAL_STORAGE_KEY);\r\n    if (storeUser === null) return null;\r\n    return JSON.parse(storeUser);\r\n  };\r\n\r\n  // The following line defines the user state which is holding the user\r\n  // data inside this context.\r\n  const [user, setUser] = useState<Nullable<User>>(() => loadSavedUserData());\r\n  const navigate = useNavigate();\r\n  /**\r\n   * Update the user that is provided by the ActiveUserContext\r\n   * @param updatedUser\r\n   */\r\n  const setActiveUser = (updatedUser: User) => {\r\n    setUser(updatedUser);\r\n    localStorage.setItem(\r\n      USER_DATA_LOCAL_STORAGE_KEY,\r\n      JSON.stringify(updatedUser)\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Remove all user and authorization related data from the localStorage\r\n   */\r\n  const resetAuthorization = () => {\r\n    // Reset the stored data inside the AuthorityService.\r\n    AuthorityService.clearAuthorities();\r\n    // Clear all data from the localStorage.\r\n    localStorage.clear();\r\n    // Set the user, which is stored inside the context to null.\r\n    setUser(null);\r\n  };\r\n\r\n  /**\r\n   * Logout the currently active user by resetting the stored user data\r\n   * and redirecting to the LoginPage.\r\n   */\r\n  const logout = () => {\r\n    // If no token is saved inside the local storage clear the localStorage directly\r\n    if (localStorage.getItem(TOKEN_LOCAL_STORAGE_KEY) === null) {\r\n      resetAuthorization();\r\n      return;\r\n    }\r\n    // If a token is present send a logout-request and clear the localStorage afterwards\r\n    api.get(\"/logout\").finally(resetAuthorization);\r\n    //navigate to login page\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  /**\r\n   * Login with the provided credentials. If successful the current user gets\r\n   * updated and stored inside the context. Also the JWT-Token for further\r\n   * request based authentication is stored inside the localStorage.\r\n   * @param email\r\n   * @param password\r\n   */\r\n  const login = async (email: string, password: string) => {\r\n    await api.post(\"user/login\", { email, password }).then((response: any) => {\r\n      console.log(response.headers.authorization);\r\n      localStorage.setItem(\r\n        TOKEN_LOCAL_STORAGE_KEY,\r\n        response.headers.authorization\r\n      );\r\n      setActiveUser(response.data);\r\n      return true;\r\n    });\r\n    return false;\r\n  };\r\n\r\n  /**\r\n   * Request the user data for the currently active user from the api\r\n   * and save it to the context-state.\r\n   */\r\n  const loadActiveUser = () => {\r\n    return user\r\n      ? UserService.getUser(user.id).then((res: any) => {\r\n          setActiveUser(res);\r\n        })\r\n      : null;\r\n  };\r\n\r\n  function activeUserHasRole(roleToCheck: keyof typeof roles): boolean {\r\n    return user ? user.roles.some((role) => role.name === roleToCheck) : false;\r\n  }\r\n\r\n  /**\r\n   * Try to load the user-object from the localStorage if present.\r\n   * This is done automatically on the first render of this component.\r\n   */\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(TOKEN_LOCAL_STORAGE_KEY);\r\n    if (token !== null) {\r\n      loadActiveUser();\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * If the user state is updated and the user is not equal to null,\r\n   * the data used in the AuthorityService as well as the data stored inside\r\n   * the localStorage will be updated with the new user-data.\r\n   */\r\n  useEffect(() => {\r\n    if (user !== null) {\r\n      AuthorityService.initAuthoritySet(user);\r\n      localStorage.setItem(USER_DATA_LOCAL_STORAGE_KEY, JSON.stringify(user));\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div>\r\n      <ActiveUserContext.Provider\r\n        value={{\r\n          user,\r\n          setActiveUser,\r\n          login,\r\n          logout,\r\n          loadActiveUser,\r\n          checkRole: activeUserHasRole,\r\n        }}\r\n      >\r\n        {children}\r\n      </ActiveUserContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Services\\AuthorityService.ts",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Services\\UserService.ts",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\config\\Api.ts",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Router\\PrivateRoute.tsx",["89"],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\HomePage.tsx",["90"],"import { Box, flexbox } from '@mui/system';\r\nimport logo from '../../logo1.png';\r\nimport \"./HomePage.css\"\r\n\r\nexport default function HomePage() {\r\n  return (\r\n    <Box className={\"box\"}>\r\n      <h1>Welcome to M223</h1>\r\n      <img\r\n        src={logo}\r\n        style={{ filter: 'invert(100%)' }}\r\n        className='App-logo'\r\n        alt='logo'\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\UserPage\\UserPage.tsx",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\LoginPage\\LoginPage.tsx",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\UserPage\\UserTable.tsx",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\molecules\\UserForm\\UserForm.tsx",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\pages\\LandingPage\\LandingPage.tsx",[],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\organisms\\Navbar.tsx",["91","92"],"import \"../components.css\"\r\nimport {AppBar, Button, IconButton, Toolbar, Typography, Box} from \"@mui/material\";\r\nimport {AccountCircle, LogoutOutlined} from \"@mui/icons-material\";\r\nimport {useContext} from \"react\";\r\nimport ActiveUserContext from \"../../Contexts/ActiveUserContext\";\r\n\r\nexport default function Navbar() {\r\n\r\n    const activeUserContext = useContext(ActiveUserContext);\r\n    return (\r\n        <>\r\n            <Box sx={{ flexGrow: 1 }}>\r\n                <AppBar >\r\n                    <Toolbar>\r\n                        <IconButton\r\n                            size=\"large\"\r\n                            edge=\"start\"\r\n                            color=\"inherit\"\r\n                            aria-label=\"menu\"\r\n                            sx={{ mr: 2 }}\r\n                        >\r\n                        </IconButton>\r\n                        <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n                            OurSpace\r\n                        </Typography>\r\n                        <IconButton\r\n                            size=\"large\"\r\n                            aria-label=\"account of current user\"\r\n                            aria-controls=\"menu-appbar\"\r\n                            aria-haspopup=\"false\"\r\n                            color=\"inherit\"\r\n                            onClick={activeUserContext.logout}\r\n                        >\r\n                            <LogoutOutlined />\r\n                        </IconButton>\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </Box>\r\n        </>\r\n    );\r\n}\r\n","C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\organisms\\Content.tsx",["93"],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\molecules\\Post.tsx",["94"],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\components\\organisms\\AddPost.tsx",["95"],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\Services\\PostService.ts",["96"],"C:\\Users\\Stefan Laux\\Desktop\\UK223\\M223_Frontend-YaSei-StLau-SaLus\\src\\types\\models\\Post.model.ts",[],{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":172,"column":6,"nodeType":"103","endLine":172,"endColumn":8,"suggestions":"104"},{"ruleId":"105","severity":1,"message":"106","line":7,"column":10,"nodeType":"107","messageId":"108","endLine":7,"endColumn":16},{"ruleId":"105","severity":1,"message":"109","line":1,"column":15,"nodeType":"107","messageId":"108","endLine":1,"endColumn":22},{"ruleId":"105","severity":1,"message":"106","line":2,"column":17,"nodeType":"107","messageId":"108","endLine":2,"endColumn":23},{"ruleId":"105","severity":1,"message":"110","line":3,"column":9,"nodeType":"107","messageId":"108","endLine":3,"endColumn":22},{"ruleId":"105","severity":1,"message":"111","line":4,"column":9,"nodeType":"107","messageId":"108","endLine":4,"endColumn":12},{"ruleId":"105","severity":1,"message":"106","line":2,"column":9,"nodeType":"107","messageId":"108","endLine":2,"endColumn":15},{"ruleId":"105","severity":1,"message":"112","line":2,"column":17,"nodeType":"107","messageId":"108","endLine":2,"endColumn":22},{"ruleId":"105","severity":1,"message":"113","line":3,"column":10,"nodeType":"107","messageId":"108","endLine":3,"endColumn":14},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadActiveUser'. Either include it or remove the dependency array.","ArrayExpression",["116"],"@typescript-eslint/no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'flexbox' is defined but never used.","'AccountCircle' is defined but never used.","'Key' is defined but never used.","'Input' is defined but never used.","'User' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"117","fix":"118"},"Update the dependencies array to be: [loadActiveUser]",{"range":"119","text":"120"},[5561,5563],"[loadActiveUser]"]